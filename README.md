# 1. 프로젝트에 대해서

### 파이썬을 활용하여 영화진흥위원회 오픈 API의 데이터를 수집하여  파일을 저장하고 파이썬 조건/반복문 및 다양한 자료구조를 조작하여 명세서에 명시되어 있는 형태로 가공해 데이터를 제작하는 프로젝트.



# 2-1. 01.py에 대한 설명

### (1). 필수요청인 key와 targetDt를 영화진흥위원회를 통해 받은 후  url을 통해 요청을 보내고 json 을 딕셔너리로 변환하였다.

### (2). 주간/주말 박스오피스 데이터 리스트로 가져오기.

### (3). 영화 대표코드(movieCd), 영화명(mvoieNm), 해당일 누적관객수(audiAcc) 를준비.

### - 시행착오 : 다음에 if 문을 이용하여 마지막주 데이터가 기존 영화코드에 있다면 딕셔너리에 넣지 않도록 입력해야 했었지만 간과하였음.

### (4). 결과 저장하기

### (5). 저장할 데이터들의 필드 이름을 미리 지정한다.

### (6).필드 이름을 csv 파일 최상단에 작성한다.

### (7). 반복을 돌며 value 값들을 해당 필드의 row에 작성한다.





# 2-1. 02.py에 대한 설명

```python
with open('boxOffice.csv', newline='', encoding='utf-8') as f:
        reader = csv.DictReader(f)
        for row in reader:
            code = row['movieCd']
            result.append(code)
```

### (1).  02.py에서 수집한 영회 대표코드를 활용하여 상세 정보를 수집하기 위하여 with open을 통해 read 하였다.

### (2). 영화진흥위원회 홈페이지의 url을 발급받은 key와 앞에서 read한 movie code를 이용하여 요청을 보내고 Json을 딕셔너리로 변환하였다.

### (3). 반복문을 이용하여 movies에서 각각의 수집하고자 하는 하위 항목들을 box라는 리스트에 넣고 딕셔너리 형태로 출력하였다. 

- 시행착오 : 딕셔너리를 통해 원하는 정보를 수집하는 과정에서 딕셔너리의 형태의 중간에 리스트 항목들도 섞여있어 원하는 항목까지 접근할 때까지 많은 시행작오를 겪었으며 

- ```python
  'genres': movies.get('genres')[0].get('genreNm') if movies.get('genres') else None
  ```

이와 같은 형태로 접근할 수 있엇으며 이어지는 if문은 하나의 코드 항목이라도 none의 값을 가지고 있으면 출력값이 나오지 않아 none을 가지고 있어도 출력이 되게끔 바꿔주는 부분이다. 이러한 점도 간과하였다.

### (4). 앞의 모든 과정들을 반복문을 이용하여 임시로 100개의 코드를 통해 반복 수집하였다.

# 2-3. 02.py에 대한 설명.

아직 성공하지 못하였음.